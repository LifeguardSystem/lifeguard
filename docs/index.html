<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Lifeguard's landing page" />
    <meta name="author" content="Diego Rubin" />
    <title>Lifeguard</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css"
    />
  </head>
  <body>
    <!-- Responsive navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container px-5">
        <a class="navbar-brand" href="#">Lifeguard</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link"
                target="_blank"
                href="https://github.com/LifeguardSystem"
                >Github</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-example"
                >Examples</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Header-->
    <header class="bg-dark py-5">
      <div class="container px-5">
        <div class="row gx-5 justify-content-center">
          <div class="col-lg-6">
            <div class="text-center my-5">
              <h1 class="display-5 fw-bolder text-white mb-2">
                An Opined Monitoring And Self Healing System
              </h1>
              <p class="lead text-white-50 mb-4">
                Quickly create scripts to perform validations to monitor
                systems, applications or infrastructure. Easily take action when
                behavior changes or when a problem is detected!
              </p>
              <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
                <a
                  class="btn btn-primary btn-lg px-4 me-sm-3"
                  target="_blank"
                  href="https://github.com/LifeguardSystem/lifeguard-example"
                  >Get Started</a
                >
                <a
                  class="btn btn-outline-light btn-lg px-4"
                  target="_blank"
                  href="https://github.com/LifeguardSystem/lifeguard#readme"
                  >Learn More</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- Features section-->
    <section class="py-5 border-bottom" id="features">
      <div class="container px-5 my-5">
        <div class="row gx-5">
          <div class="col-lg-4 mb-5 mb-lg-0">
            <div
              class="feature bg-primary bg-gradient text-white rounded-3 mb-3"
            >
              <i class="bi bi-plug"></i>
            </div>
            <h2 class="h4 fw-bolder">Plugins Based</h2>
            <p>
              Like other frameworks, Lifeguard was built with mechanisms that
              facilitate the creation of plugins, separating what is essential
              from what is optional. Example: The core must know when or not to
              notify, but we don't need to load the MS Teams notification
              routines if we are going to use Google Chat.
            </p>
          </div>
          <div class="col-lg-4 mb-5 mb-lg-0">
            <div
              class="feature bg-primary bg-gradient text-white rounded-3 mb-3"
            >
              <i class="bi bi-search"></i>
            </div>
            <h2 class="h4 fw-bolder">Proactive Validations</h2>
            <p>
              Most monitoring systems work reactively, like the Grafana
              Alertmanager solution, that is, based on things (in many cases,
              errors) that have already happened that alerts are triggered.
              Lifeguard's focus is on making it easy to create proactive
              validations that can look for errors and send easily
              understandable alerts.
            </p>
          </div>
          <div class="col-lg-4">
            <div
              class="feature bg-primary bg-gradient text-white rounded-3 mb-3"
            >
              <i class="bi bi-toggles2"></i>
            </div>
            <h2 class="h4 fw-bolder">Deploy and Scale Easily</h2>
            <p>
              Lifeguard consists of two fundamental elements. A web server that
              provides some APIs where you can provide a GUI (the GUI also works
              based on plugins) and a queue, or queues, to perform validations.
              Both can run together or not and can scale independently as
              needed. Validations can be performed on specific instances of
              queues. This organization makes it much easier to scale resources
              depending on the type of use.
            </p>
          </div>
        </div>
      </div>
    </section>
    <!-- Initing a project -->
    <section class="py-5 border-bottom" id="starting">
      <div class="container px-5 my-5">
        <div class="row gx-5">
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h2>Starting a project</h2>
            <p>
              To start a project, you need to install the Lifeguard package
              using pip:
            </p>
            <pre><code class="language-bash">pip install lifeguard
</code></pre>
            <p>
              Create a new directory and create a main settings file used for
              Lifeguard:
            </p>
            <pre><code class="language-bash">mkdir myproject
cd myproject
lifeguard -g
</code></pre>
            <p>
              The <code>-g</code> parameter will create a new file called
              <code>lifeguard_settings.py</code> with the initial structure. The
              example in the right side is a example.
            </p>
          </div>
          <div class="col-lg-8">
            <pre><code class="language-python"># import lifeguard plugin for MongoDB
# This plugin able the persistent results of validations
# To use this plugin, you need to install it using pip
# pip install lifeguard-mongodb
import lifeguard_mongodb

from lifeguard.settings import SettingsManager
from lifeguard.auth import BASIC_AUTH_METHOD

# list of plugins used by this instance
PLUGINS = [lifeguard_mongodb]

def setup(lifeguard_context):
    # Register user and password for basic authentication
    lifeguard_context.auth_method = BASIC_AUTH_METHOD
    lifeguard_context.users = [
        {"username": "user", "password": "pass"}
    ]
</code></pre>
          </div>
        </div>
      </div>
    </section>
    <!-- first validation -->
    <section class="py-5 border-bottom" id="validation">
      <div class="container px-5 my-5">
        <div class="row gx-5">
          <div class="col-lg-8 mb-5 mb-lg-0">
            <h2>Simple Example Validation</h2>
            <pre><code class="language-python">from lifeguard import NORMAL, PROBLEM, change_status
from lifeguard.actions.database import save_result_into_database
from lifeguard.http_client import get
from lifeguard.logger import lifeguard_logger as logger
from lifeguard.validations import ValidationResponse, validation


# The validation decorator is used to register a new validation.
# The schedule parameter is used to define when the validation will be executed.
# The actions parameter is used to define what actions will be
# executed after the validation.
# The validation function must return a ValidationResponse object.
# The file with validation must be in the folder validations and
# must be named with "_validation.py" suffix.
@validation(
    "check if pudim is alive",
    actions=[save_result_into_database],
    schedule={"every": {"minutes": 1}},
)
def pudim_is_alive():
    status = NORMAL
    result = requests.get("http://pudim.com.br")
    logger.info("pudim status code: %s", result.status_code)

    if result.status_code != 200:
        status = change_status(status, PROBLEM)

    return ValidationResponse(
        status,
        {status: result.status_code},
    )
</code></pre>
          </div>
          <div class="col-lg-4">
            <p>To execute the validation, run the command:</p>
            <pre><code class="language-bash">lifeguard</code></pre>
            <p>
              The validation will be executed every minute and the result will
              be saved in the database. You can see the result in the
              <a href="http://localhost:5567/lifeguard/status/complete"
                >http://localhost:5567/lifeguard/status/complete</a
              >. Not forget to use the user and password.
            </p>
          </div>
        </div>
      </div>
    </section>
    <!-- plugins -->
    <section class="py-5 border-bottom" id="plugins">
      <div class="container px-5 my-5">
        <div class="row gx-5">
          <div class="col-lg-12">
            <h2>Built Plugins</h2>
          </div>
        </div>
        <div class="row gx-5">
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-mongodb"
                >MongoDB
              </a>
            </h3>
            <p>
              This plugin is used to store the results of validations in a
              MongoDB database.
            </p>

            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-tinydb"
                >TinyDB
              </a>
            </h3>
            <p>
              This plugin is used to store the results of validations in a
              TinyDB database. TinyDB produces a single json file with data.
            </p>
          </div>
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-notification-google-chat"
                >Google Chat Notification
              </a>
            </h3>
            <p>This plugin is used to send notifications to Google Chat.</p>

            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-notification-msteams"
                >MS Teams Notification
              </a>
            </h3>
            <p>This plugin is used to send notifications to MS Teams.</p>
          </div>
          <div class="col-lg-4">
            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-rabbitmq"
                >RabbitMQ
              </a>
            </h3>
            <p>
              This plugin contains some common validations for RabbitMQ queues.
            </p>

            <h3>
              <a
                target="_blank"
                href="https://github.com/LifeguardSystem/lifeguard-simple-dashboard"
                >Simple Dashboard
              </a>
            </h3>
            <p>
              This plugin is used to create a simple dashboard with the results
              of validations. Used as example to build a simple GUI.
            </p>
          </div>
        </div>
      </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark">
      <div class="container px-5">
        <p class="m-0 text-center text-white">
          Copyright &copy; Diego Rubin 2023
        </p>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
